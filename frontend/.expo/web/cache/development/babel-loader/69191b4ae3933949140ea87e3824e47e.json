{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"D:\\\\projects\\\\cargo_app\\\\frontend\\\\src\\\\components\\\\roles\\\\manager\\\\act-info.js\";\n\nimport { connect } from \"react-redux\";\nimport React from \"react\";\nimport Paper from \"@material-ui/core/Paper\";\nimport { List } from \"material-ui\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemIcon from \"@material-ui/core/ListItemIcon\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport TableContainer from \"@material-ui/core/TableContainer\";\nimport { Typography } from \"@material-ui/core\";\nimport Table from \"@material-ui/core/Table\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport fetchFieldFromObject from \"../../parts/util/function-util\";\nimport TablePagination from \"@material-ui/core/TablePagination\";\nimport HowToRegIcon from \"@material-ui/icons/HowToReg\";\nimport StoreIcon from '@material-ui/icons/Store';\nimport DepartureBoardIcon from '@material-ui/icons/DepartureBoard';\nimport Divider from \"@material-ui/core/Divider\";\nimport EnhancedTableHead, { getComparator, stableSort } from \"../../parts/util/sorted-table-head\";\nimport { countTotalLostQuantity, countTotalLostSum, countTotalWeight } from \"../../parts/util/cargo-total-info\";\nimport makeStyles from \"@material-ui/core/styles/makeStyles\";\nimport { UserInfo } from \"../admin/user-info\";\nimport Tooltip from \"@material-ui/core/Tooltip\";\nimport { DialogWindow } from \"../../parts/dialogs/dialog\";\n\nvar mapStateToProps = function mapStateToProps(store) {\n  return {\n    role: store.user.roles[0]\n  };\n};\n\nvar useStyles = makeStyles(function (theme) {\n  return {\n    infoPiece: {\n      flexDirection: \"column\",\n      alignItems: \"flex-start\"\n    },\n    boldText: {\n      fontWeight: \"bold\"\n    },\n    tableHeader: {\n      display: \"flex\",\n      flexDirection: \"row\",\n      justifyContent: \"center\",\n      marginTop: 5,\n      fontSize: 20\n    }\n  };\n});\nvar LEFT = \"left\";\nvar SIZE = 12;\nvar columns = [{\n  label: \"Name\",\n  id: \"name\",\n  minWidth: 100,\n  align: LEFT,\n  fontSize: SIZE\n}, {\n  label: \"Mass\",\n  id: \"mass\",\n  minWidth: 50,\n  maxWidth: 60,\n  align: LEFT,\n  fontSize: SIZE\n}, {\n  label: \"Measure\",\n  id: \"massMeasure\",\n  minWidth: 50,\n  maxWidth: 60,\n  align: LEFT,\n  fontSize: SIZE\n}, {\n  label: \"Price\",\n  id: \"price\",\n  minWidth: 50,\n  maxWidth: 60,\n  align: LEFT,\n  fontSize: SIZE\n}, {\n  label: \"Currency\",\n  id: \"currency\",\n  minWidth: 50,\n  maxWidth: 60,\n  align: LEFT,\n  fontSize: SIZE\n}, {\n  label: \"Quantity\",\n  id: \"quantity\",\n  minWidth: 50,\n  maxWidth: 60,\n  align: LEFT,\n  fontSize: SIZE\n}, {\n  label: \"Measure\",\n  id: \"quantityMeasure\",\n  minWidth: 50,\n  maxWidth: 60,\n  align: LEFT,\n  fontSize: SIZE\n}, {\n  label: \"Lost\",\n  id: \"lostQuantity\",\n  minWidth: 50,\n  maxWidth: 60,\n  align: LEFT,\n  fontSize: SIZE\n}, {\n  label: \"Status\",\n  id: \"productStatus\",\n  minWidth: 50,\n  maxWidth: 60,\n  align: LEFT,\n  fontSize: SIZE\n}, {\n  label: \"Comment\",\n  id: \"comment\",\n  minWidth: 50,\n  align: LEFT,\n  fontSize: SIZE\n}];\nexport var ActInfo = connect(mapStateToProps)(function (props) {\n  var styles = useStyles();\n  var invoice = props.invoice;\n  var act = props.act;\n  var losses = [];\n  invoice.products.forEach(function (p) {\n    if (p.lostQuantity > 0) {\n      losses.push(p);\n    }\n  });\n  var totalLostSum = countTotalLostSum(losses);\n  var totalWeight = countTotalWeight(losses);\n  var totalLostQuantity = countTotalLostQuantity(losses);\n\n  var _React$useState = React.useState('asc'),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      order = _React$useState2[0],\n      setOrder = _React$useState2[1];\n\n  var _React$useState3 = React.useState('status'),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      orderBy = _React$useState4[0],\n      setOrderBy = _React$useState4[1];\n\n  var _React$useState5 = React.useState(0),\n      _React$useState6 = _slicedToArray(_React$useState5, 2),\n      page = _React$useState6[0],\n      setPage = _React$useState6[1];\n\n  var _React$useState7 = React.useState(5),\n      _React$useState8 = _slicedToArray(_React$useState7, 2),\n      rowsPerPage = _React$useState8[0],\n      setRowsPerPage = _React$useState8[1];\n\n  var _React$useState9 = React.useState(null),\n      _React$useState10 = _slicedToArray(_React$useState9, 2),\n      form = _React$useState10[0],\n      setForm = _React$useState10[1];\n\n  var _React$useState11 = React.useState(\"\"),\n      _React$useState12 = _slicedToArray(_React$useState11, 2),\n      title = _React$useState12[0],\n      setTitle = _React$useState12[1];\n\n  var _React$useState13 = React.useState(false),\n      _React$useState14 = _slicedToArray(_React$useState13, 2),\n      userInfoDialogOpen = _React$useState14[0],\n      setUserInfoDialogOpen = _React$useState14[1];\n\n  var handleRequestSort = function handleRequestSort(event, property) {\n    var isAsc = orderBy === property && order === 'asc';\n    setOrder(isAsc ? 'desc' : 'asc');\n    setOrderBy(property);\n  };\n\n  var handleChangePage = function handleChangePage(event, newPage) {\n    setPage(newPage);\n  };\n\n  var handleChangeRowsPerPage = function handleChangeRowsPerPage(event) {\n    setRowsPerPage(+event.target.value);\n    setPage(0);\n  };\n\n  var handleDriverInfoOpen = function handleDriverInfoOpen() {\n    var user = invoice.driver;\n\n    if (user) {\n      setForm(React.createElement(UserInfo, {\n        user: user,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 21\n        }\n      }));\n      setTitle(\"Driver\");\n      setUserInfoDialogOpen(true);\n    }\n  };\n\n  var handleClose = function handleClose() {\n    setUserInfoDialogOpen(false);\n  };\n\n  return React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 9\n    }\n  }, React.createElement(Paper, {\n    className: \"table-paper\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 13\n    }\n  }, React.createElement(List, {\n    className: \"info-content\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 17\n    }\n  }, React.createElement(\"div\", {\n    className: \"info-content-column\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 21\n    }\n  }, React.createElement(ListItem, {\n    className: styles.infoPiece,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 25\n    }\n  }, React.createElement(ListItemIcon, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 29\n    }\n  }, React.createElement(HowToRegIcon, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 33\n    }\n  })), React.createElement(Tooltip, {\n    className: \"link-pointer\",\n    title: \"Click to see Driver info\",\n    arrow: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 29\n    }\n  }, React.createElement(ListItemText, {\n    onClick: handleDriverInfoOpen,\n    primary: React.createElement(React.Fragment, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 41\n      }\n    }, React.createElement(\"strong\", {\n      style: {\n        color: \"#3f51b5\"\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 45\n      }\n    }, invoice.driver.name + \" \" + invoice.driver.surname)),\n    secondary: \"Driver\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 33\n    }\n  })), React.createElement(ListItemIcon, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 29\n    }\n  }, React.createElement(HowToRegIcon, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 33\n    }\n  })), React.createElement(ListItemText, {\n    primary: React.createElement(React.Fragment, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 37\n      }\n    }, act.consigneeWorker),\n    secondary: \"Consignee worker\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 29\n    }\n  })), React.createElement(Divider, {\n    orientation: \"vertical\",\n    flexItem: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 25\n    }\n  }), React.createElement(ListItem, {\n    className: styles.infoPiece,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 25\n    }\n  }, React.createElement(ListItemIcon, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 29\n    }\n  }, React.createElement(StoreIcon, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 33\n    }\n  })), React.createElement(ListItemText, {\n    primary: React.createElement(React.Fragment, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 37\n      }\n    }, invoice.shipper.address.country + \" \" + invoice.shipper.address.city + \" \" + invoice.shipper.address.street + \" \" + invoice.shipper.email),\n    secondary: \"Shipper\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 29\n    }\n  }), React.createElement(ListItemIcon, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 29\n    }\n  }, React.createElement(StoreIcon, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 33\n    }\n  })), React.createElement(ListItemText, {\n    primary: React.createElement(React.Fragment, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 37\n      }\n    }, invoice.consignee.address.country + \" \" + invoice.consignee.address.city + \" \" + invoice.consignee.address.street + \" \" + invoice.consignee.email),\n    secondary: \"Consignee\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 29\n    }\n  })), React.createElement(Divider, {\n    orientation: \"vertical\",\n    flexItem: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 25\n    }\n  }), React.createElement(ListItem, {\n    className: styles.infoPiece,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 25\n    }\n  }, React.createElement(ListItemIcon, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 29\n    }\n  }, React.createElement(DepartureBoardIcon, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 33\n    }\n  })), React.createElement(ListItemText, {\n    primary: React.createElement(React.Fragment, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 37\n      }\n    }, act.registrationDate),\n    secondary: \"Registration date\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 29\n    }\n  })))), React.createElement(Divider, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 17\n    }\n  }), React.createElement(Typography, {\n    variant: \"h6\",\n    gutterBottom: true,\n    className: styles.tableHeader,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 17\n    }\n  }, \"LOST CARGO\"), React.createElement(\"div\", {\n    className: styles.tableHeader,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 13\n    }\n  }, React.createElement(TableRow, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 17\n    }\n  }, React.createElement(TableCell, {\n    colSpan: 1,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 205,\n      columnNumber: 21\n    }\n  }, \"Owner :\"), React.createElement(TableCell, {\n    align: \"right\",\n    className: styles.boldText,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 208,\n      columnNumber: 21\n    }\n  }, invoice.productOwnerDTO.name), React.createElement(TableCell, {\n    colSpan: 1,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 212,\n      columnNumber: 21\n    }\n  }, \"Lost items :\"), React.createElement(TableCell, {\n    align: \"right\",\n    className: styles.boldText,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 215,\n      columnNumber: 21\n    }\n  }, totalLostQuantity + \" items\"), React.createElement(TableCell, {\n    colSpan: 1,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 219,\n      columnNumber: 21\n    }\n  }, \"Lost weight :\"), React.createElement(TableCell, {\n    align: \"right\",\n    className: styles.boldText,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 222,\n      columnNumber: 21\n    }\n  }, totalWeight + \" KG\"), React.createElement(TableCell, {\n    colSpan: 1,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 226,\n      columnNumber: 21\n    }\n  }, \"Lost Sum :\"), React.createElement(TableCell, {\n    align: \"right\",\n    className: styles.boldText,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 229,\n      columnNumber: 21\n    }\n  }, totalLostSum + \" \" + (invoice.currency ? invoice.currency : \"\")))), React.createElement(TableContainer, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 236,\n      columnNumber: 17\n    }\n  }, React.createElement(Table, {\n    \"aria-label\": \"sticky table\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 237,\n      columnNumber: 21\n    }\n  }, React.createElement(EnhancedTableHead, {\n    firstMenu: false,\n    secondMenu: false,\n    columns: columns,\n    order: order,\n    orderBy: orderBy,\n    onRequestSort: handleRequestSort,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 239,\n      columnNumber: 25\n    }\n  }), React.createElement(TableBody, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 247,\n      columnNumber: 25\n    }\n  }, stableSort(losses, getComparator(order, orderBy)).slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage).map(function (product) {\n    return React.createElement(TableRow, {\n      hover: true,\n      role: \"checkbox\",\n      tabIndex: -1,\n      key: product.id,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 252,\n        columnNumber: 41\n      }\n    }, columns.map(function (column) {\n      var value = fetchFieldFromObject(product, column.id);\n      return React.createElement(TableCell, {\n        key: column.id,\n        align: column.align,\n        style: {\n          minWidth: column.minWidth,\n          maxWidth: column.maxWidth\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 261,\n          columnNumber: 53\n        }\n      }, value);\n    }));\n  })))), React.createElement(\"br\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 274,\n      columnNumber: 17\n    }\n  }), React.createElement(TablePagination, {\n    rowsPerPageOptions: [5, 10, 15],\n    component: \"div\",\n    count: losses.length,\n    rowsPerPage: rowsPerPage,\n    page: page,\n    onChangePage: handleChangePage,\n    onChangeRowsPerPage: handleChangeRowsPerPage,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 276,\n      columnNumber: 17\n    }\n  }), React.createElement(DialogWindow, {\n    dialogTitle: title,\n    fullWidth: true,\n    maxWidth: \"xs\",\n    handleClose: handleClose,\n    openDialog: userInfoDialogOpen,\n    form: form,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 286,\n      columnNumber: 17\n    }\n  })));\n});","map":{"version":3,"sources":["D:/projects/cargo_app/frontend/src/components/roles/manager/act-info.js"],"names":["connect","React","Paper","List","ListItem","ListItemIcon","ListItemText","TableContainer","Typography","Table","TableRow","TableCell","TableBody","fetchFieldFromObject","TablePagination","HowToRegIcon","StoreIcon","DepartureBoardIcon","Divider","EnhancedTableHead","getComparator","stableSort","countTotalLostQuantity","countTotalLostSum","countTotalWeight","makeStyles","UserInfo","Tooltip","DialogWindow","mapStateToProps","store","role","user","roles","useStyles","theme","infoPiece","flexDirection","alignItems","boldText","fontWeight","tableHeader","display","justifyContent","marginTop","fontSize","LEFT","SIZE","columns","label","id","minWidth","align","maxWidth","ActInfo","props","styles","invoice","act","losses","products","forEach","p","lostQuantity","push","totalLostSum","totalWeight","totalLostQuantity","useState","order","setOrder","orderBy","setOrderBy","page","setPage","rowsPerPage","setRowsPerPage","form","setForm","title","setTitle","userInfoDialogOpen","setUserInfoDialogOpen","handleRequestSort","event","property","isAsc","handleChangePage","newPage","handleChangeRowsPerPage","target","value","handleDriverInfoOpen","driver","handleClose","color","name","surname","consigneeWorker","shipper","address","country","city","street","email","consignee","registrationDate","productOwnerDTO","currency","slice","map","product","column","length"],"mappings":"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","sourcesContent":["import {connect} from \"react-redux\";\r\nimport React from \"react\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport {List} from \"material-ui\";\r\nimport ListItem from \"@material-ui/core/ListItem\";\r\nimport ListItemIcon from \"@material-ui/core/ListItemIcon\";\r\nimport ListItemText from \"@material-ui/core/ListItemText\";\r\nimport TableContainer from \"@material-ui/core/TableContainer\";\r\nimport {Typography} from \"@material-ui/core\";\r\nimport Table from \"@material-ui/core/Table\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport TableBody from \"@material-ui/core/TableBody\";\r\nimport fetchFieldFromObject from \"../../parts/util/function-util\";\r\nimport TablePagination from \"@material-ui/core/TablePagination\";\r\nimport HowToRegIcon from \"@material-ui/icons/HowToReg\";\r\nimport StoreIcon from '@material-ui/icons/Store';\r\nimport DepartureBoardIcon from '@material-ui/icons/DepartureBoard';\r\nimport Divider from \"@material-ui/core/Divider\";\r\nimport EnhancedTableHead, {getComparator, stableSort} from \"../../parts/util/sorted-table-head\";\r\nimport {countTotalLostQuantity, countTotalLostSum, countTotalWeight} from \"../../parts/util/cargo-total-info\";\r\nimport makeStyles from \"@material-ui/core/styles/makeStyles\";\r\nimport {UserInfo} from \"../admin/user-info\";\r\nimport Tooltip from \"@material-ui/core/Tooltip\";\r\nimport {DialogWindow} from \"../../parts/dialogs/dialog\";\r\n\r\nconst mapStateToProps = (store) => {\r\n    return {\r\n        role: store.user.roles[0]\r\n    }\r\n};\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    infoPiece: {\r\n        flexDirection: \"column\",\r\n        alignItems: \"flex-start\"\r\n    },\r\n    boldText: {\r\n        fontWeight: \"bold\",\r\n    },\r\n    tableHeader: {\r\n        display: \"flex\",\r\n        flexDirection: \"row\",\r\n        justifyContent: \"center\",\r\n        marginTop: 5,\r\n        fontSize: 20\r\n    }\r\n}));\r\n\r\nconst LEFT = \"left\";\r\nconst SIZE = 12;\r\n\r\nconst columns = [\r\n    {label: \"Name\", id: \"name\", minWidth: 100, align: LEFT, fontSize: SIZE},\r\n    {label: \"Mass\", id: \"mass\", minWidth: 50, maxWidth: 60, align: LEFT, fontSize: SIZE},\r\n    {label: \"Measure\", id: \"massMeasure\", minWidth: 50, maxWidth: 60, align: LEFT, fontSize: SIZE},\r\n    {label: \"Price\", id: \"price\", minWidth: 50, maxWidth: 60, align: LEFT, fontSize: SIZE},\r\n    {label: \"Currency\", id: \"currency\", minWidth: 50, maxWidth: 60, align: LEFT, fontSize: SIZE},\r\n    {label: \"Quantity\", id: \"quantity\", minWidth: 50, maxWidth: 60, align: LEFT, fontSize: SIZE},\r\n    {label: \"Measure\", id: \"quantityMeasure\", minWidth: 50, maxWidth: 60, align: LEFT, fontSize: SIZE},\r\n    {label: \"Lost\", id: \"lostQuantity\", minWidth: 50, maxWidth: 60, align: LEFT, fontSize: SIZE},\r\n    {label: \"Status\", id: \"productStatus\", minWidth: 50, maxWidth: 60, align: LEFT, fontSize: SIZE},\r\n    {label: \"Comment\", id: \"comment\", minWidth: 50, align: LEFT, fontSize: SIZE},\r\n];\r\n\r\nexport const ActInfo = connect(mapStateToProps)((props) => {\r\n    const styles = useStyles();\r\n    const invoice = props.invoice;\r\n    const act = props.act;\r\n\r\n    const losses = [];\r\n    invoice.products.forEach(p => {\r\n        if (p.lostQuantity > 0) {\r\n            losses.push(p);\r\n        }\r\n    })\r\n\r\n    const totalLostSum = countTotalLostSum(losses);\r\n    const totalWeight = countTotalWeight(losses);\r\n    const totalLostQuantity = countTotalLostQuantity(losses);\r\n    const [order, setOrder] = React.useState('asc');\r\n    const [orderBy, setOrderBy] = React.useState('status');\r\n    const [page, setPage] = React.useState(0);\r\n    const [rowsPerPage, setRowsPerPage] = React.useState(5);\r\n    const [form, setForm] = React.useState(null);\r\n    const [title, setTitle] = React.useState(\"\");\r\n    const [userInfoDialogOpen, setUserInfoDialogOpen] = React.useState(false);\r\n\r\n    const handleRequestSort = (event, property) => {\r\n        const isAsc = orderBy === property && order === 'asc';\r\n        setOrder(isAsc ? 'desc' : 'asc');\r\n        setOrderBy(property);\r\n    };\r\n\r\n    const handleChangePage = (event, newPage) => {\r\n        setPage(newPage);\r\n    };\r\n\r\n    const handleChangeRowsPerPage = (event) => {\r\n        setRowsPerPage(+event.target.value);\r\n        setPage(0);\r\n    };\r\n\r\n    const handleDriverInfoOpen = () => {\r\n        const user = invoice.driver;\r\n        if (user) {\r\n            setForm(<UserInfo user={user}/>);\r\n            setTitle(\"Driver\");\r\n            setUserInfoDialogOpen(true);\r\n        }\r\n    }\r\n\r\n    const handleClose = () => {\r\n        setUserInfoDialogOpen(false);\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            <Paper className=\"table-paper\">\r\n                <List className=\"info-content\">\r\n                    <div className=\"info-content-column\">\r\n                        <ListItem className={styles.infoPiece}>\r\n                            <ListItemIcon>\r\n                                <HowToRegIcon/>\r\n                            </ListItemIcon>\r\n                            <Tooltip className=\"link-pointer\"\r\n                                     title=\"Click to see Driver info\"\r\n                                     arrow>\r\n                                <ListItemText\r\n                                    onClick={handleDriverInfoOpen}\r\n                                    primary={\r\n                                        <React.Fragment>\r\n                                            <strong style={{color: \"#3f51b5\"}}>\r\n                                                {invoice.driver.name + \" \"\r\n                                                + invoice.driver.surname}\r\n                                            </strong>\r\n                                        </React.Fragment>\r\n                                    }\r\n                                    secondary=\"Driver\"\r\n                                />\r\n                            </Tooltip>\r\n                            <ListItemIcon>\r\n                                <HowToRegIcon/>\r\n                            </ListItemIcon>\r\n                            <ListItemText\r\n                                primary={\r\n                                    <React.Fragment>\r\n                                        {act.consigneeWorker}\r\n                                    </React.Fragment>\r\n                                }\r\n                                secondary=\"Consignee worker\"\r\n                            />\r\n                        </ListItem>\r\n                        <Divider orientation=\"vertical\" flexItem/>\r\n                        <ListItem className={styles.infoPiece}>\r\n                            <ListItemIcon>\r\n                                <StoreIcon/>\r\n                            </ListItemIcon>\r\n                            <ListItemText\r\n                                primary={\r\n                                    <React.Fragment>\r\n                                        {`${invoice.shipper.address.country} ${invoice.shipper.address.city} ${invoice.shipper.address.street} ${invoice.shipper.email}`}\r\n                                    </React.Fragment>\r\n                                }\r\n                                secondary=\"Shipper\"\r\n                            />\r\n                            <ListItemIcon>\r\n                                <StoreIcon/>\r\n                            </ListItemIcon>\r\n                            <ListItemText\r\n                                primary={\r\n                                    <React.Fragment>\r\n                                        {`${invoice.consignee.address.country} ${invoice.consignee.address.city} ${invoice.consignee.address.street} ${invoice.consignee.email}`}\r\n                                    </React.Fragment>\r\n                                }\r\n                                secondary=\"Consignee\"\r\n                            />\r\n                        </ListItem>\r\n                        <Divider orientation=\"vertical\" flexItem/>\r\n                        <ListItem className={styles.infoPiece}>\r\n                            <ListItemIcon>\r\n                                <DepartureBoardIcon/>\r\n                            </ListItemIcon>\r\n                            <ListItemText\r\n                                primary={\r\n                                    <React.Fragment>\r\n                                        {act.registrationDate}\r\n                                    </React.Fragment>\r\n                                }\r\n                                secondary=\"Registration date\"\r\n                            />\r\n                        </ListItem>\r\n                    </div>\r\n                </List>\r\n                <Divider/>\r\n\r\n                <Typography variant=\"h6\"\r\n                            gutterBottom\r\n                            className={styles.tableHeader}>\r\n                    LOST CARGO\r\n                </Typography>\r\n\r\n            <div className={styles.tableHeader}>\r\n                <TableRow>\r\n                    <TableCell colSpan={1}>\r\n                        Owner :\r\n                    </TableCell>\r\n                    <TableCell align=\"right\"\r\n                               className={styles.boldText}>\r\n                        {invoice.productOwnerDTO.name}\r\n                    </TableCell>\r\n                    <TableCell colSpan={1}>\r\n                        Lost items :\r\n                    </TableCell>\r\n                    <TableCell align=\"right\"\r\n                               className={styles.boldText}>\r\n                        {totalLostQuantity + \" items\"}\r\n                    </TableCell>\r\n                    <TableCell colSpan={1}>\r\n                        Lost weight :\r\n                    </TableCell>\r\n                    <TableCell align=\"right\"\r\n                               className={styles.boldText}>\r\n                        {totalWeight + \" KG\"}\r\n                    </TableCell>\r\n                    <TableCell colSpan={1}>\r\n                        Lost Sum :\r\n                    </TableCell>\r\n                    <TableCell align=\"right\"\r\n                               className={styles.boldText}>\r\n                        {totalLostSum + \" \" + (invoice.currency ? invoice.currency : \"\")}\r\n                    </TableCell>\r\n                </TableRow>\r\n            </div>\r\n\r\n                <TableContainer>\r\n                    <Table\r\n                        aria-label=\"sticky table\">\r\n                        <EnhancedTableHead\r\n                            firstMenu={false}\r\n                            secondMenu={false}\r\n                            columns={columns}\r\n                            order={order}\r\n                            orderBy={orderBy}\r\n                            onRequestSort={handleRequestSort}\r\n                        />\r\n                        <TableBody>\r\n                            {stableSort(losses, getComparator(order, orderBy))\r\n                                .slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage)\r\n                                .map((product) => {\r\n                                    return (\r\n                                        <TableRow\r\n                                            hover\r\n                                            role=\"checkbox\"\r\n                                            tabIndex={-1}\r\n                                            key={product.id}\r\n                                        >\r\n                                            {columns.map((column) => {\r\n                                                const value = fetchFieldFromObject(product, column.id);\r\n                                                return (\r\n                                                    <TableCell key={column.id}\r\n                                                               align={column.align}\r\n                                                               style={{minWidth: column.minWidth, maxWidth: column.maxWidth}}>\r\n                                                        {value}\r\n                                                    </TableCell>\r\n                                                );\r\n                                            })}\r\n                                        </TableRow>\r\n                                    );\r\n                                })}\r\n                        </TableBody>\r\n                    </Table>\r\n                </TableContainer>\r\n                <br/>\r\n\r\n                <TablePagination\r\n                    rowsPerPageOptions={[5, 10, 15]}\r\n                    component=\"div\"\r\n                    count={losses.length}\r\n                    rowsPerPage={rowsPerPage}\r\n                    page={page}\r\n                    onChangePage={handleChangePage}\r\n                    onChangeRowsPerPage={handleChangeRowsPerPage}\r\n                />\r\n\r\n                <DialogWindow\r\n                    dialogTitle={title}\r\n                    fullWidth={true}\r\n                    maxWidth=\"xs\"\r\n                    handleClose={handleClose}\r\n                    openDialog={userInfoDialogOpen}\r\n                    form={form}\r\n                />\r\n            </Paper>\r\n        </div>\r\n    );\r\n})"]},"metadata":{},"sourceType":"module"}