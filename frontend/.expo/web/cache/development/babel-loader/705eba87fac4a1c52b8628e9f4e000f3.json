{"ast":null,"code":"var _jsxFileName = \"D:\\\\projects\\\\cargo_app\\\\frontend\\\\src\\\\components\\\\forms\\\\profile-form\\\\phone-dialog.js\";\nimport React from 'react';\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport { handleRequestError, makeRequest, USER_URL } from \"../../parts/util/request-util\";\nimport { Form, Formik } from \"formik\";\nimport FormikField from \"../../parts/util/formik-field\";\nimport { copyUser } from \"../../parts/util/function-util\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport { PhoneScheme } from \"../../parts/validation/profile-validation\";\nexport default function ChangePhoneDialog(props) {\n  var _this = this;\n\n  var showToastComponent = props.showToastComponent,\n      user = props.user,\n      changeUser = props.changeUser,\n      open = props.open,\n      onClose = props.onClose;\n  return React.createElement(Dialog, {\n    open: open,\n    onClose: onClose,\n    className: \"phone-dialog-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 20,\n      columnNumber: 9\n    }\n  }, React.createElement(DialogTitle, {\n    id: \"form-dialog-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 21,\n      columnNumber: 13\n    }\n  }, React.createElement(\"span\", {\n    id: \"form-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 22,\n      columnNumber: 17\n    }\n  }, \"Phone\"), React.createElement(IconButton, {\n    \"aria-label\": \"close\",\n    onClick: onClose,\n    className: \"close-user-dialog-btn\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 23,\n      columnNumber: 17\n    }\n  }, React.createElement(CloseIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 21\n    }\n  }))), React.createElement(DialogContent, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 13\n    }\n  }, React.createElement(Formik, {\n    enableReinitialize: true,\n    validationSchema: PhoneScheme,\n    initialValues: {\n      phone: user.phone\n    },\n    onSubmit: function onSubmit(values) {\n      var phone = values.phone;\n      makeRequest(\"PUT\", USER_URL + \"/phone\", {\n        phone: phone\n      }).then(function (res) {\n        showToastComponent(\"Phone has been updated\", \"success\");\n        user.phone = phone;\n        changeUser(copyUser(user));\n        onClose();\n      }).catch(function (error) {\n        return handleRequestError(error, showToastComponent);\n      });\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 17\n    }\n  }, function (formProps) {\n    return React.createElement(Form, {\n      className: \"phone-form\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 29\n      }\n    }, React.createElement(FormikField, {\n      formikProps: formProps,\n      id: \"phone\",\n      label: \"Phone\",\n      formikFieldName: \"phone\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 33\n      }\n    }), React.createElement(\"div\", {\n      className: \"btn-form-wrapper\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 33\n      }\n    }, React.createElement(Button, {\n      variant: \"contained\",\n      color: \"primary\",\n      type: \"submit\",\n      disabled: formProps.listener,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 37\n      }\n    }, \"Update\")));\n  })));\n}","map":{"version":3,"sources":["D:/projects/cargo_app/frontend/src/components/forms/profile-form/phone-dialog.js"],"names":["React","Button","Dialog","DialogTitle","DialogContent","handleRequestError","makeRequest","USER_URL","Form","Formik","FormikField","copyUser","IconButton","CloseIcon","PhoneScheme","ChangePhoneDialog","props","showToastComponent","user","changeUser","open","onClose","phone","values","then","res","catch","error","formProps","listener"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport Button from '@material-ui/core/Button';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport {handleRequestError, makeRequest, USER_URL} from \"../../parts/util/request-util\";\r\nimport {Form, Formik} from \"formik\";\r\nimport FormikField from \"../../parts/util/formik-field\";\r\nimport {copyUser} from \"../../parts/util/function-util\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport CloseIcon from \"@material-ui/icons/Close\";\r\nimport {PhoneScheme} from \"../../parts/validation/profile-validation\";\r\n\r\n\r\nexport default function ChangePhoneDialog(props) {\r\n\r\n    const {showToastComponent, user, changeUser, open, onClose} = props;\r\n\r\n    return (\r\n        <Dialog open={open} onClose={onClose} className=\"phone-dialog-container\">\r\n            <DialogTitle id=\"form-dialog-title\">\r\n                <span id=\"form-title\">Phone</span>\r\n                <IconButton aria-label=\"close\"\r\n                            onClick={onClose}\r\n                            className=\"close-user-dialog-btn\"\r\n                >\r\n                    <CloseIcon/>\r\n                </IconButton>\r\n            </DialogTitle>\r\n            <DialogContent>\r\n                <Formik\r\n                    enableReinitialize\r\n                    validationSchema={PhoneScheme}\r\n                    initialValues={{\r\n                        phone: user.phone,\r\n                    }}\r\n                    onSubmit={(values) => {\r\n                        const phone = values.phone;\r\n\r\n                        makeRequest(\"PUT\", USER_URL + \"/phone\", {phone})\r\n                            .then(res => {\r\n                                showToastComponent(\"Phone has been updated\", \"success\");\r\n                                user.phone = phone;\r\n                                changeUser(copyUser(user));\r\n                                onClose();\r\n                            }).catch(error => handleRequestError(error, showToastComponent))\r\n\r\n                    }}\r\n                >\r\n                    {(formProps) => {\r\n                        return (\r\n                            <Form className=\"phone-form\">\r\n                                <FormikField\r\n                                    formikProps={formProps}\r\n                                    id={\"phone\"}\r\n                                    label={\"Phone\"}\r\n                                    formikFieldName={\"phone\"}\r\n                                />\r\n                                <div className=\"btn-form-wrapper\">\r\n                                    <Button\r\n                                        variant=\"contained\"\r\n                                        color=\"primary\"\r\n                                        type=\"submit\"\r\n                                        disabled={formProps.listener}\r\n                                    >\r\n                                        Update\r\n                                    </Button>\r\n                                </div>\r\n                            </Form>\r\n                        );\r\n                    }}\r\n                </Formik>\r\n            </DialogContent>\r\n        </Dialog>\r\n    );\r\n}"]},"metadata":{},"sourceType":"module"}