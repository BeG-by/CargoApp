{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"D:\\\\projects\\\\cargo_app\\\\frontend\\\\src\\\\components\\\\roles\\\\admin\\\\autos\\\\auto-table.js\";\n\nimport React, { useEffect, useState } from \"react\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableContainer from \"@material-ui/core/TableContainer\";\nimport TablePagination from \"@material-ui/core/TablePagination\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport useToast from \"../../../parts/toast-notification/useToast\";\nimport Button from \"@material-ui/core/Button\";\nimport EditIcon from '@material-ui/icons/Edit';\nimport { AUTO_URL, handleRequestError, makeRequest } from \"../../../parts/util/request-util\";\nimport { AutoDialog } from \"./auto-dialog\";\nimport ConfirmDeletingDialog from \"../slide-dialog\";\nimport { Typography } from \"@material-ui/core\";\nimport LibraryAddRoundedIcon from \"@material-ui/icons/LibraryAddRounded\";\nimport { connect } from \"react-redux\";\nimport Tooltip from \"@material-ui/core/Tooltip\";\nimport LibraryBooksIcon from \"@material-ui/icons/LibraryBooks\";\nimport EnhancedTableHead, { getComparator, stableSort } from \"../../../parts/util/sorted-table-head\";\nvar MIN_WIDTH = 170;\nvar ALIGN = \"left\";\nvar FONT_SIZE = 18;\nvar columns = [{\n  id: \"mark\",\n  label: \"Mark\",\n  minWidth: MIN_WIDTH,\n  align: ALIGN,\n  fontSize: FONT_SIZE\n}, {\n  id: \"number\",\n  label: \"Number\",\n  minWidth: MIN_WIDTH,\n  align: ALIGN,\n  fontSize: FONT_SIZE\n}, {\n  id: \"type\",\n  label: \"Type\",\n  minWidth: MIN_WIDTH,\n  align: ALIGN,\n  fontSize: FONT_SIZE\n}, {\n  id: \"consumption\",\n  label: \"Consumption\",\n  minWidth: 100,\n  align: ALIGN,\n  fontSize: FONT_SIZE\n}, {\n  id: \"maxLoad\",\n  label: \"Max load\",\n  minWidth: 100,\n  align: ALIGN,\n  fontSize: FONT_SIZE\n}, {\n  id: \"dateOfIssue\",\n  label: \"Date of issue\",\n  minWidth: MIN_WIDTH,\n  align: ALIGN,\n  fontSize: FONT_SIZE\n}, {\n  id: \"status\",\n  label: \"Status\",\n  minWidth: 100,\n  align: \"center\",\n  fontSize: FONT_SIZE\n}, {\n  id: \"edit_delete\",\n  label: \"\",\n  align: \"center\"\n}];\n\nvar getColorStatus = function getColorStatus(status) {\n  switch (status) {\n    case \"ACTIVE\":\n      return React.createElement(\"div\", {\n        className: \"green-status\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 20\n        }\n      }, status);\n\n    case \"BROKEN\":\n      return React.createElement(\"div\", {\n        className: \"red-status\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 20\n        }\n      }, status);\n\n    default:\n      return React.createElement(\"div\", {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 20\n        }\n      }, status);\n  }\n};\n\nvar mapStateToProps = function mapStateToProps(store) {\n  return {\n    role: store.user.roles[0]\n  };\n};\n\nexport var AutoTable = connect(mapStateToProps)(function (props) {\n  var _useState = useState(0),\n      _useState2 = _slicedToArray(_useState, 2),\n      page = _useState2[0],\n      setPage = _useState2[1];\n\n  var _useState3 = useState(10),\n      _useState4 = _slicedToArray(_useState3, 2),\n      rowsPerPage = _useState4[0],\n      setRowsPerPage = _useState4[1];\n\n  var _useState5 = useState(0),\n      _useState6 = _slicedToArray(_useState5, 2),\n      totalAutoAmount = _useState6[0],\n      setTotalAutoAmount = _useState6[1];\n\n  var _useState7 = useState([]),\n      _useState8 = _slicedToArray(_useState7, 2),\n      autos = _useState8[0],\n      setAutos = _useState8[1];\n\n  var _useState9 = useState(false),\n      _useState10 = _slicedToArray(_useState9, 2),\n      formDialogOpen = _useState10[0],\n      setFormDialogOpen = _useState10[1];\n\n  var _useState11 = useState(-1),\n      _useState12 = _slicedToArray(_useState11, 2),\n      selectedAutoId = _useState12[0],\n      setSelectedAutoId = _useState12[1];\n\n  var _useToast = useToast(),\n      _useToast2 = _slicedToArray(_useToast, 2),\n      ToastComponent = _useToast2[0],\n      showToastComponent = _useToast2[1];\n\n  var _useState13 = useState('asc'),\n      _useState14 = _slicedToArray(_useState13, 2),\n      order = _useState14[0],\n      setOrder = _useState14[1];\n\n  var _useState15 = useState('status'),\n      _useState16 = _slicedToArray(_useState15, 2),\n      orderBy = _useState16[0],\n      setOrderBy = _useState16[1];\n\n  var REMOVE_TITLE = \"Do you want to remove the auto ?\";\n  useEffect(function () {\n    insertAutos();\n  }, []);\n\n  var handleRequestSort = function handleRequestSort(event, property) {\n    var isAsc = orderBy === property && order === 'asc';\n    setOrder(isAsc ? 'desc' : 'asc');\n    setOrderBy(property);\n  };\n\n  var insertAutos = function insertAutos() {\n    var curPage = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : page;\n    var curRowsPerPage = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : rowsPerPage;\n    var url = AUTO_URL + \"?page=\" + curPage + \"&autoPerPage=\" + curRowsPerPage;\n    makeRequest(\"GET\", url).then(function (res) {\n      setTotalAutoAmount(res.data.totalAmount);\n      setAutos(res.data.autoList);\n    }).catch(function (error) {\n      return handleRequestError(error, showToastComponent);\n    });\n  };\n\n  var deleteAuto = function deleteAuto(id) {\n    makeRequest(\"DELETE\", AUTO_URL + \"/\" + id).then(function (res) {\n      insertAutos();\n      showToastComponent(\"Auto has been deleted\", \"success\");\n    }).catch(function (error) {\n      return handleRequestError(error, showToastComponent);\n    });\n  };\n\n  var handleChangePage = function handleChangePage(event, newPage) {\n    setPage(newPage);\n    insertAutos(newPage);\n  };\n\n  var handleTableRowClick = function handleTableRowClick(auto) {\n    setSelectedAutoId(auto.id);\n    setFormDialogOpen(true);\n  };\n\n  var handleChangeRowsPerPage = function handleChangeRowsPerPage(event) {\n    setRowsPerPage(+event.target.value);\n    setPage(0);\n    insertAutos(0, +event.target.value);\n  };\n\n  return React.createElement(\"main\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 9\n    }\n  }, React.createElement(Paper, {\n    className: \"table-paper\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 13\n    }\n  }, React.createElement(TableContainer, {\n    className: \"table-container\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 17\n    }\n  }, React.createElement(\"div\", {\n    className: \"table-header-wrapper\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 21\n    }\n  }, React.createElement(Typography, {\n    variant: \"button\",\n    display: \"block\",\n    gutterBottom: true,\n    style: {\n      fontSize: 26,\n      marginLeft: 15,\n      marginTop: 15,\n      textDecoration: \"underline\"\n    },\n    className: \"table-title\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 25\n    }\n  }, React.createElement(LibraryBooksIcon, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 29\n    }\n  }), \"Autos\"), React.createElement(Button, {\n    variant: \"contained\",\n    color: \"primary\",\n    onClick: function onClick() {\n      return setFormDialogOpen(true);\n    },\n    className: \"add-table-btn\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 25\n    }\n  }, React.createElement(LibraryAddRoundedIcon, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 29\n    }\n  }))), React.createElement(Table, {\n    \"aria-label\": \"sticky table\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 21\n    }\n  }, React.createElement(EnhancedTableHead, {\n    columns: columns,\n    order: order,\n    orderBy: orderBy,\n    onRequestSort: handleRequestSort,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 25\n    }\n  }), React.createElement(TableBody, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 25\n    }\n  }, stableSort(autos, getComparator(order, orderBy)).map(function (auto) {\n    return React.createElement(TableRow, {\n      onClick: function onClick() {\n        handleTableRowClick(auto);\n      },\n      hover: true,\n      role: \"checkbox\",\n      tabIndex: -1,\n      key: auto.id,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 41\n      }\n    }, React.createElement(TableCell, {\n      key: columns[0].id,\n      align: columns[0].align,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 45\n      }\n    }, auto.mark), React.createElement(TableCell, {\n      key: columns[1].id,\n      align: columns[1].align,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 45\n      }\n    }, auto.number), React.createElement(TableCell, {\n      key: columns[2].id,\n      align: columns[2].align,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 45\n      }\n    }, auto.autoType), React.createElement(TableCell, {\n      key: columns[3].id,\n      align: columns[3].align,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 45\n      }\n    }, auto.consumption), React.createElement(TableCell, {\n      key: columns[4].id,\n      align: columns[4].align,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 45\n      }\n    }, auto.maxLoad), React.createElement(TableCell, {\n      key: columns[5].id,\n      align: columns[5].align,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 45\n      }\n    }, auto.dateOfIssue), React.createElement(TableCell, {\n      key: columns[6].id,\n      align: columns[6].align,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 45\n      }\n    }, getColorStatus(auto.status)), React.createElement(TableCell, {\n      key: columns[7].id,\n      align: columns[7].align,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 45\n      }\n    }, React.createElement(\"div\", {\n      className: \"table-delete-edit-div\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 49\n      }\n    }, React.createElement(Tooltip, {\n      title: \"Click to edit auto\",\n      arrow: true,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 53\n      }\n    }, React.createElement(Button, {\n      className: \"menu-table-btn\",\n      color: \"primary\",\n      startIcon: React.createElement(EditIcon, {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 189,\n          columnNumber: 72\n        }\n      }),\n      onClick: function onClick(e) {\n        e.stopPropagation();\n        handleTableRowClick(auto);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 57\n      }\n    })), React.createElement(ConfirmDeletingDialog, {\n      id: auto.id,\n      onDelete: deleteAuto,\n      text: REMOVE_TITLE,\n      toolTitle: \"Click to delete auto\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 53\n      }\n    }))));\n  })))), React.createElement(TablePagination, {\n    rowsPerPageOptions: [10, 15, 20],\n    component: \"div\",\n    count: totalAutoAmount,\n    rowsPerPage: rowsPerPage,\n    page: page,\n    onChangePage: handleChangePage,\n    onChangeRowsPerPage: handleChangeRowsPerPage,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 210,\n      columnNumber: 17\n    }\n  }), React.createElement(AutoDialog, {\n    open: formDialogOpen,\n    autoId: selectedAutoId,\n    onClose: function onClose() {\n      setFormDialogOpen(false);\n      setSelectedAutoId(-1);\n    },\n    refreshTable: insertAutos,\n    showToast: showToastComponent,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 220,\n      columnNumber: 17\n    }\n  }), ToastComponent));\n});","map":{"version":3,"sources":["D:/projects/cargo_app/frontend/src/components/roles/admin/autos/auto-table.js"],"names":["React","useEffect","useState","Paper","Table","TableBody","TableCell","TableContainer","TablePagination","TableRow","useToast","Button","EditIcon","AUTO_URL","handleRequestError","makeRequest","AutoDialog","ConfirmDeletingDialog","Typography","LibraryAddRoundedIcon","connect","Tooltip","LibraryBooksIcon","EnhancedTableHead","getComparator","stableSort","MIN_WIDTH","ALIGN","FONT_SIZE","columns","id","label","minWidth","align","fontSize","getColorStatus","status","mapStateToProps","store","role","user","roles","AutoTable","props","page","setPage","rowsPerPage","setRowsPerPage","totalAutoAmount","setTotalAutoAmount","autos","setAutos","formDialogOpen","setFormDialogOpen","selectedAutoId","setSelectedAutoId","ToastComponent","showToastComponent","order","setOrder","orderBy","setOrderBy","REMOVE_TITLE","insertAutos","handleRequestSort","event","property","isAsc","curPage","curRowsPerPage","url","then","res","data","totalAmount","autoList","catch","error","deleteAuto","handleChangePage","newPage","handleTableRowClick","auto","handleChangeRowsPerPage","target","value","marginLeft","marginTop","textDecoration","map","mark","number","autoType","consumption","maxLoad","dateOfIssue","e","stopPropagation"],"mappings":"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","sourcesContent":["import React, {useEffect, useState} from \"react\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport Table from \"@material-ui/core/Table\";\r\nimport TableBody from \"@material-ui/core/TableBody\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport TableContainer from \"@material-ui/core/TableContainer\";\r\nimport TablePagination from \"@material-ui/core/TablePagination\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport useToast from \"../../../parts/toast-notification/useToast\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport EditIcon from '@material-ui/icons/Edit';\r\nimport {AUTO_URL, handleRequestError, makeRequest} from \"../../../parts/util/request-util\";\r\nimport {AutoDialog} from \"./auto-dialog\";\r\nimport ConfirmDeletingDialog from \"../slide-dialog\";\r\nimport {Typography} from \"@material-ui/core\";\r\nimport LibraryAddRoundedIcon from \"@material-ui/icons/LibraryAddRounded\";\r\nimport {connect} from \"react-redux\";\r\nimport Tooltip from \"@material-ui/core/Tooltip\";\r\nimport LibraryBooksIcon from \"@material-ui/icons/LibraryBooks\";\r\nimport EnhancedTableHead, {getComparator, stableSort} from \"../../../parts/util/sorted-table-head\";\r\n\r\nconst MIN_WIDTH = 170;\r\nconst ALIGN = \"left\";\r\nconst FONT_SIZE = 18;\r\n\r\nconst columns = [\r\n    {id: \"mark\", label: \"Mark\", minWidth: MIN_WIDTH, align: ALIGN, fontSize: FONT_SIZE},\r\n    {id: \"number\", label: \"Number\", minWidth: MIN_WIDTH, align: ALIGN, fontSize: FONT_SIZE},\r\n    {id: \"type\", label: \"Type\", minWidth: MIN_WIDTH, align: ALIGN, fontSize: FONT_SIZE},\r\n    {id: \"consumption\", label: \"Consumption\", minWidth: 100, align: ALIGN, fontSize: FONT_SIZE},\r\n    {id: \"maxLoad\", label: \"Max load\", minWidth: 100, align: ALIGN, fontSize: FONT_SIZE},\r\n    {id: \"dateOfIssue\", label: \"Date of issue\", minWidth: MIN_WIDTH, align: ALIGN, fontSize: FONT_SIZE},\r\n    {id: \"status\", label: \"Status\", minWidth: 100, align: \"center\", fontSize: FONT_SIZE},\r\n    {id: \"edit_delete\", label: \"\", align: \"center\"}\r\n];\r\n\r\n\r\nconst getColorStatus = (status) => {\r\n\r\n    switch (status) {\r\n        case \"ACTIVE\":\r\n            return <div className=\"green-status\">{status}</div>;\r\n        case \"BROKEN\":\r\n            return <div className=\"red-status\">{status}</div>;\r\n        default:\r\n            return <div>{status}</div>\r\n    }\r\n\r\n};\r\n\r\n\r\nconst mapStateToProps = (store) => {\r\n    return {\r\n        role: store.user.roles[0]\r\n    }\r\n};\r\n\r\nexport const AutoTable = connect(mapStateToProps)((props) => {\r\n    const [page, setPage] = useState(0);\r\n    const [rowsPerPage, setRowsPerPage] = useState(10);\r\n    const [totalAutoAmount, setTotalAutoAmount] = useState(0);\r\n\r\n    const [autos, setAutos] = useState([]);\r\n    const [formDialogOpen, setFormDialogOpen] = useState(false);\r\n    const [selectedAutoId, setSelectedAutoId] = useState(-1);\r\n    const [ToastComponent, showToastComponent] = useToast();\r\n    const [order, setOrder] = useState('asc');\r\n    const [orderBy, setOrderBy] = useState('status');\r\n\r\n    const REMOVE_TITLE = \"Do you want to remove the auto ?\";\r\n\r\n    useEffect(() => {\r\n        insertAutos()\r\n    }, []);\r\n\r\n    const handleRequestSort = (event, property) => {\r\n        const isAsc = orderBy === property && order === 'asc';\r\n        setOrder(isAsc ? 'desc' : 'asc');\r\n        setOrderBy(property);\r\n    };\r\n\r\n\r\n    const insertAutos = (curPage = page, curRowsPerPage = rowsPerPage) => {\r\n        let url = `${AUTO_URL}?page=${curPage}&autoPerPage=${curRowsPerPage}`\r\n        makeRequest(\"GET\", url)\r\n            .then(res => {\r\n                    setTotalAutoAmount(res.data.totalAmount);\r\n                    setAutos(res.data.autoList);\r\n                }\r\n            )\r\n            .catch(error => handleRequestError(error, showToastComponent))\r\n    };\r\n\r\n\r\n    const deleteAuto = (id) => {\r\n        makeRequest(\"DELETE\", AUTO_URL + \"/\" + id)\r\n            .then(res => {\r\n                insertAutos();\r\n                showToastComponent(\"Auto has been deleted\", \"success\");\r\n            })\r\n            .catch(error => handleRequestError(error, showToastComponent))\r\n    };\r\n\r\n\r\n    const handleChangePage = (event, newPage) => {\r\n        setPage(newPage);\r\n        insertAutos(newPage);\r\n    };\r\n\r\n    const handleTableRowClick = (auto) => {\r\n        setSelectedAutoId(auto.id);\r\n        setFormDialogOpen(true);\r\n    };\r\n\r\n    const handleChangeRowsPerPage = (event) => {\r\n        setRowsPerPage(+event.target.value);\r\n        setPage(0);\r\n        insertAutos(0, +event.target.value);\r\n    };\r\n\r\n    return (\r\n        <main>\r\n            <Paper className=\"table-paper\">\r\n                <TableContainer className=\"table-container\">\r\n                    <div className=\"table-header-wrapper\">\r\n                        <Typography variant=\"button\" display=\"block\" gutterBottom\r\n                                    style={{fontSize: 26, marginLeft: 15, marginTop: 15, textDecoration: \"underline\"}}\r\n                                    className=\"table-title\"\r\n                        >\r\n                            <LibraryBooksIcon/>\r\n                            Autos\r\n                        </Typography>\r\n                        <Button variant=\"contained\"\r\n                                color={\"primary\"}\r\n                                onClick={() => setFormDialogOpen(true)}\r\n                                className=\"add-table-btn\"\r\n                        >\r\n                            <LibraryAddRoundedIcon/>\r\n                        </Button>\r\n                    </div>\r\n                    <Table aria-label=\"sticky table\">\r\n                        <EnhancedTableHead\r\n                            columns={columns}\r\n                            order={order}\r\n                            orderBy={orderBy}\r\n                            onRequestSort={handleRequestSort}\r\n                        />\r\n                        <TableBody>\r\n                            {stableSort(autos, getComparator(order, orderBy))\r\n                                .map((auto) => {\r\n                                    return (\r\n                                        <TableRow\r\n                                            onClick={() => {\r\n                                                handleTableRowClick(auto);\r\n                                            }}\r\n                                            hover\r\n                                            role=\"checkbox\"\r\n                                            tabIndex={-1}\r\n                                            key={auto.id}\r\n                                        >\r\n                                            <TableCell key={columns[0].id} align={columns[0].align}>\r\n                                                {auto.mark}\r\n                                            </TableCell>\r\n                                            <TableCell key={columns[1].id} align={columns[1].align}>\r\n                                                {auto.number}\r\n                                            </TableCell>\r\n                                            <TableCell key={columns[2].id} align={columns[2].align}>\r\n                                                {auto.autoType}\r\n                                            </TableCell>\r\n                                            <TableCell key={columns[3].id} align={columns[3].align}>\r\n                                                {auto.consumption}\r\n                                            </TableCell>\r\n                                            <TableCell key={columns[4].id} align={columns[4].align}>\r\n                                                {auto.maxLoad}\r\n                                            </TableCell>\r\n                                            <TableCell key={columns[5].id} align={columns[5].align}>\r\n                                                {auto.dateOfIssue}\r\n                                            </TableCell>\r\n                                            <TableCell key={columns[6].id} align={columns[6].align}>\r\n                                                {getColorStatus(auto.status)}\r\n                                            </TableCell>\r\n                                            <TableCell key={columns[7].id} align={columns[7].align}>\r\n                                                <div className=\"table-delete-edit-div\">\r\n                                                    <Tooltip title=\"Click to edit auto\"\r\n                                                             arrow>\r\n                                                        <Button\r\n                                                            className=\"menu-table-btn\"\r\n                                                            color={\"primary\"}\r\n                                                            startIcon={<EditIcon/>}\r\n                                                            onClick={(e) => {\r\n                                                                e.stopPropagation();\r\n                                                                handleTableRowClick(auto)\r\n                                                            }}/>\r\n                                                    </Tooltip>\r\n                                                    <ConfirmDeletingDialog\r\n                                                        id={auto.id}\r\n                                                        onDelete={deleteAuto}\r\n                                                        text={REMOVE_TITLE}\r\n                                                        toolTitle=\"Click to delete auto\"\r\n                                                    />\r\n                                                </div>\r\n                                            </TableCell>\r\n                                        </TableRow>\r\n                                    );\r\n                                })}\r\n                        </TableBody>\r\n                    </Table>\r\n                </TableContainer>\r\n\r\n                <TablePagination\r\n                    rowsPerPageOptions={[10, 15, 20]}\r\n                    component=\"div\"\r\n                    count={totalAutoAmount}\r\n                    rowsPerPage={rowsPerPage}\r\n                    page={page}\r\n                    onChangePage={handleChangePage}\r\n                    onChangeRowsPerPage={handleChangeRowsPerPage}\r\n                />\r\n\r\n                <AutoDialog\r\n                    open={formDialogOpen}\r\n                    autoId={selectedAutoId}\r\n                    onClose={() => {\r\n                        setFormDialogOpen(false);\r\n                        setSelectedAutoId(-1);\r\n                    }}\r\n                    refreshTable={insertAutos}\r\n                    showToast={showToastComponent}\r\n                />\r\n                {ToastComponent}\r\n            </Paper>\r\n        </main>\r\n    );\r\n});\r\n"]},"metadata":{},"sourceType":"module"}