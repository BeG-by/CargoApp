{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"D:\\\\projects\\\\cargo_app\\\\frontend\\\\src\\\\components\\\\roles\\\\admin\\\\user-info.js\";\n\nimport React, { useEffect } from \"react\";\nimport { connect } from \"react-redux\";\nimport Paper from \"@material-ui/core/Paper\";\nimport { List } from \"material-ui\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport photo from \"../../../resources/images/user_no_photo.png\";\nimport { Typography } from \"@material-ui/core\";\n\nvar mapStateToProps = function mapStateToProps(store) {\n  return {\n    role: store.user.roles[0]\n  };\n};\n\nexport var UserInfo = connect(mapStateToProps)(function (props) {\n  var customUser = props.customUser,\n      _props$customClass = props.customClass,\n      customClass = _props$customClass === void 0 ? \"table-paper\" : _props$customClass,\n      _props$title = props.title,\n      title = _props$title === void 0 ? null : _props$title;\n\n  var _React$useState = React.useState({\n    id: 0,\n    name: \"\",\n    birthday: \"\",\n    email: \"\",\n    phone: \"\",\n    role: \"\",\n    photo: \"\"\n  }),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      user = _React$useState2[0],\n      setUser = _React$useState2[1];\n\n  function fetchUser(cleanupFunction) {\n    var selected = props.user;\n    if (!cleanupFunction) setUser({\n      id: selected.id,\n      name: selected.name + \" \" + selected.surname,\n      birthday: selected.birthday,\n      email: selected.email,\n      phone: selected.phone,\n      photo: selected.photo,\n      role: selected.roles[0]\n    });\n  }\n\n  useEffect(function () {\n    if (customUser !== undefined) {\n      setUser(customUser);\n      return;\n    }\n\n    var cleanupFunction = false;\n    fetchUser(cleanupFunction);\n    return function () {\n      return cleanupFunction = true;\n    };\n  }, [customUser]);\n  return React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 9\n    }\n  }, React.createElement(Paper, {\n    elevation: 3,\n    className: customClass,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 13\n    }\n  }, title === null ? \"\" : React.createElement(\"p\", {\n    className: \"div-title margin-0\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 40\n    }\n  }, title), React.createElement(List, {\n    style: {\n      alignItems: \"flex-start\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 17\n    }\n  }, React.createElement(\"div\", {\n    style: {\n      display: \"flex\",\n      flexDirection: \"row\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 21\n    }\n  }, React.createElement(ListItem, {\n    style: {\n      flexDirection: \"column\",\n      alignItems: \"flex-start\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 25\n    }\n  }, React.createElement(Typography, {\n    variant: \"h6\",\n    gutterBottom: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 29\n    }\n  }, user.name), React.createElement(\"img\", {\n    src: user.photo !== undefined && user.photo !== null && user.photo.trim() ? user.photo = user.photo + \"?time=\" + new Date().getTime() : photo,\n    width: 100,\n    height: 100,\n    alt: \"avatar\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 29\n    }\n  })), React.createElement(ListItem, {\n    style: {\n      flexDirection: \"column\",\n      alignItems: \"flex-start\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 25\n    }\n  }, React.createElement(ListItemText, {\n    primary: React.createElement(React.Fragment, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 37\n      }\n    }, user.birthday),\n    secondary: \"Birthday\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 29\n    }\n  }), React.createElement(ListItemText, {\n    primary: React.createElement(React.Fragment, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 37\n      }\n    }, user.email),\n    secondary: \"E-mail\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 29\n    }\n  }), React.createElement(ListItemText, {\n    primary: React.createElement(React.Fragment, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 37\n      }\n    }, user.phone),\n    secondary: \"Contact phone\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 29\n    }\n  }))))), React.createElement(\"br\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 13\n    }\n  }));\n});","map":{"version":3,"sources":["D:/projects/cargo_app/frontend/src/components/roles/admin/user-info.js"],"names":["React","useEffect","connect","Paper","List","ListItem","ListItemText","photo","Typography","mapStateToProps","store","role","user","roles","UserInfo","props","customUser","customClass","title","useState","id","name","birthday","email","phone","setUser","fetchUser","cleanupFunction","selected","surname","undefined","alignItems","display","flexDirection","trim","Date","getTime"],"mappings":"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","sourcesContent":["import React, {useEffect} from \"react\";\r\nimport {connect} from \"react-redux\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport {List} from \"material-ui\";\r\nimport ListItem from \"@material-ui/core/ListItem\";\r\nimport ListItemText from \"@material-ui/core/ListItemText\";\r\nimport photo from \"../../../resources/images/user_no_photo.png\"\r\nimport {Typography} from \"@material-ui/core\";\r\n\r\nconst mapStateToProps = (store) => {\r\n    return {\r\n        role: store.user.roles[0]\r\n    }\r\n};\r\n\r\nexport const UserInfo = connect(mapStateToProps)((props) => {\r\n\r\n    const {customUser, customClass = \"table-paper\", title = null} = props;\r\n\r\n    const [user, setUser] = React.useState({\r\n        id: 0,\r\n        name: \"\",\r\n        birthday: \"\",\r\n        email: \"\",\r\n        phone: \"\",\r\n        role: \"\",\r\n        photo: \"\",\r\n    });\r\n\r\n\r\n    function fetchUser(cleanupFunction) {\r\n        let selected = props.user;\r\n        if (!cleanupFunction) setUser({\r\n            id: selected.id,\r\n            name: selected.name + \" \" + selected.surname,\r\n            birthday: selected.birthday,\r\n            email: selected.email,\r\n            phone: selected.phone,\r\n            photo: selected.photo,\r\n            role: selected.roles[0],\r\n        });\r\n    }\r\n\r\n    useEffect(() => {\r\n\r\n        if (customUser !== undefined) {\r\n            setUser(customUser);\r\n            return;\r\n        }\r\n\r\n        let cleanupFunction = false;\r\n        fetchUser(cleanupFunction);\r\n        return () => cleanupFunction = true;\r\n    }, [customUser]);\r\n\r\n    return (\r\n        <div>\r\n            <Paper elevation={3} className={customClass}>\r\n                {title === null ? \"\" : <p className=\"div-title margin-0\">{title}</p>}\r\n                <List style={{alignItems: \"flex-start\"}}>\r\n                    <div style={{display: \"flex\", flexDirection: \"row\"}}>\r\n                        <ListItem style={{flexDirection: \"column\", alignItems: \"flex-start\"}}>\r\n                            <Typography variant=\"h6\" gutterBottom>\r\n                                {user.name}\r\n                            </Typography>\r\n                            <img\r\n                                src={user.photo !== undefined && user.photo !== null && user.photo.trim()\r\n                                    ? user.photo = user.photo + \"?time=\" + new Date().getTime()\r\n                                    : photo}\r\n                                width={100}\r\n                                height={100}\r\n                                alt=\"avatar\"/>\r\n                        </ListItem>\r\n                        <ListItem style={{flexDirection: \"column\", alignItems: \"flex-start\"}}>\r\n                            <ListItemText\r\n                                primary={\r\n                                    <React.Fragment>\r\n                                        {user.birthday}\r\n                                    </React.Fragment>\r\n                                }\r\n                                secondary=\"Birthday\"\r\n                            />\r\n                            <ListItemText\r\n                                primary={\r\n                                    <React.Fragment>\r\n                                        {user.email}\r\n                                    </React.Fragment>\r\n                                }\r\n                                secondary=\"E-mail\"\r\n                            />\r\n                            <ListItemText\r\n                                primary={\r\n                                    <React.Fragment>\r\n                                        {user.phone}\r\n                                    </React.Fragment>\r\n                                }\r\n                                secondary=\"Contact phone\"\r\n                            />\r\n                        </ListItem>\r\n                    </div>\r\n                </List>\r\n            </Paper>\r\n            <br/>\r\n        </div>\r\n    );\r\n});"]},"metadata":{},"sourceType":"module"}